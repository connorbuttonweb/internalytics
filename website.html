<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Website Build — Connor Button</title>
  <link rel="stylesheet" href="main.css" />
  <link rel="icon" type="image/png" href="images/favicon.png" />
  <style>
    /* Page-specific accents that still match your global style */
    .page-title { margin: 0; }
    .page-subtitle { margin: 6px 0 18px; color: var(--muted); }
    .lede.card p { margin: 0; }
    .pill {
      display:inline-block; padding:6px 10px; border-radius:999px;
      background:var(--surface-2, #f4f4f4); color:#222; font-size:.85rem; margin-right:8px;
    }
    .traits { margin: 12px 0 0; }

    /* Section blocks */
    .tri {
      display:grid; gap:18px; margin:22px 0 28px;
      grid-template-columns: repeat(3, minmax(220px,1fr));
    }
    .tri .card h3 { margin-top: 0; }
    @media (max-width: 900px){
      .tri { grid-template-columns: 1fr; }
    }

    /* Process timeline */
    .timeline { margin: 10px 0 24px; }
    .timeline .row {
      display:grid; grid-template-columns: 120px 1fr; gap:12px;
      padding:10px 0; border-bottom:1px dashed var(--line, #ddd);
    }
    .timeline .date { color: var(--muted); font-weight:600; }

    /* Gallery (uses your Lightbox pattern) */
    .gallery { display:grid; grid-template-columns: repeat(12, 1fr); gap:12px; }
    .gallery figure { grid-column: span 6; position:relative; cursor:zoom-in; border-radius:var(--radius); overflow:hidden; }
    .gallery figure.wide { grid-column: span 12; }
    .gallery img { width:100%; height:auto; display:block; }
    @media (max-width: 900px){
      .gallery figure, .gallery figure.wide { grid-column: span 12; }
    }

    /* “Folder” open-source section */
    .folder { border:1px solid var(--line,#e6e6e6); border-radius:12px; overflow:hidden; }
    .folder .bar {
      display:flex; align-items:center; gap:8px; padding:10px 12px;
      background:var(--surface-2,#f7f7f7); border-bottom:1px solid var(--line,#e6e6e6);
    }
    .dot { width:10px; height:10px; border-radius:50%; background:#ff5f56; }
    .dot.yellow { background:#ffbd2e; } .dot.green { background:#27c93f; }
    .folder table { width:100%; border-collapse:collapse; }
    .folder th, .folder td { text-align:left; padding:10px 12px; border-bottom:1px dashed var(--line,#e6e6e6); }
    .file-actions a {
      display:inline-block; margin-right:10px; font-size:.9rem; text-decoration:underline;
    }

    /* Lightbox overlay (same as other pages) */
    .lightbox { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.9); z-index:9999; }
    .lightbox.open{ display:flex; }
    .lightbox-content{ position:relative; max-width:95vw; max-height:92vh; width:min(1100px,95vw); display:flex; align-items:center; justify-content:center; }
    .lightbox img, .lightbox video{ max-width:100%; max-height:92vh; width:auto; height:auto; border-radius:12px; outline:1px solid rgba(255,255,255,.15); background:#000; }
    .lightbox .close, .lightbox .prev, .lightbox .next{
      position:absolute; top:50%; transform:translateY(-50%); border:0;
      background:rgba(255,255,255,.12); color:#fff; padding:.65rem .8rem; border-radius:10px; cursor:pointer; font-weight:700;
    }
    .lightbox .close{ top:2%; right:2%; transform:none; }
    .lightbox .prev{ left:1.2%; } .lightbox .next{ right:1.2%; }
    .lightbox .close:hover, .lightbox .prev:hover, .lightbox .next:hover{ background:rgba(255,255,255,.22); }
    .caption{ margin-top:.75rem; text-align:center; color:#f0f0f0; font-size:.95rem; opacity:.85; max-width:min(900px,90vw); }
  
        /* Lightbox code viewer */
    .lightbox pre {
      background: #1e1e1e;   /* solid — no transparency */
      color: #f1f1f1;
      border-radius: 10px;
      margin: 0;
      max-height: 80vh;
      overflow: auto;
      padding: 16px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-size: 14px;
      line-height: 1.5;
    }

    /* Prism + line-numbers tweaks inside the lightbox */
    .lightbox .line-numbers .line-numbers-rows {
      border-right: 1px solid rgba(255,255,255,.12);
    }
    .lightbox .line-numbers-rows > span:before {
      color: rgba(255,255,255,.5);
    }
  
  </style>
      <!-- Prism core + theme -->
    <link rel="stylesheet" href="https://unpkg.com/prismjs/themes/prism-okaidia.css">
    <script defer src="https://unpkg.com/prismjs/prism.js"></script>

    <!-- Common languages you’ll likely need -->
    <script defer src="https://unpkg.com/prismjs/components/prism-markup.min.js"></script>
    <script defer src="https://unpkg.com/prismjs/components/prism-css.min.js"></script>
    <script defer src="https://unpkg.com/prismjs/components/prism-javascript.min.js"></script>
    <script defer src="https://unpkg.com/prismjs/components/prism-json.min.js"></script>

    <!-- Line numbers plugin -->
    <link rel="stylesheet" href="https://unpkg.com/prismjs/plugins/line-numbers/prism-line-numbers.css">
    <script defer src="https://unpkg.com/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>
</head>
<body>
  <div class="back-btn">
    <a href="homeport.html">← Back to Portfolios</a>
  </div>

  <section class="section">
    <div class="container">
      <h1 class="page-title">Website Build Portfolio [Page in Progress - Continuation following midterms]</h1>
      <p class="page-subtitle">A living record of the work behind this site — decisions, dead-ends, and the wins that shipped.</p>

      <div class="lede card">
        <p>This project began simply as a project portfolio to highlight my professional progress on the web.
          The critical choice to build it from scratch using HTML, CSS, and vanilla JavaScript came naturally as I enjoyed learning by doing.
          Teaching myself lightbox, UX principles, and user led design through trial and error (more commits than I care to admit) has been incredibly rewarding.
          This website is now a sandbox for all my ideas and a place to test the theory learned from my life experiences.
        </p>
        <div class="traits">
          <span class="pill">Curiosity</span>
          <span class="pill">Agency</span>
          <span class="pill">Creativity</span>
        </div>
      </div>

      <!-- Process timeline -->
      <section class="card">
        <h2 style="display:flex; align-items:center; gap:12px; flex-wrap:wrap;">
          GitHub Contributions
          <span class="gh-legend" style="display:inline-flex; align-items:center; gap:6px; font-size:0.85em; color:var(--muted);">
            <span>Less</span>
            <span class="gh-box" style="width:12px; height:12px; background:#ebedf0; border-radius:2px;"></span>
            <span class="gh-box" style="width:12px; height:12px; background:#9be9a8; border-radius:2px;"></span>
            <span class="gh-box" style="width:12px; height:12px; background:#40c463; border-radius:2px;"></span>
            <span class="gh-box" style="width:12px; height:12px; background:#30a14e; border-radius:2px;"></span>
            <span class="gh-box" style="width:12px; height:12px; background:#216e39; border-radius:2px;"></span>
            <span>More</span>
          </span>
        </h2>
          <a href="https://github.com/connorbuttonweb" target="_blank" rel="noopener">
            <img
            src="https://ghchart.rshah.org/30A14E/connorbuttonweb"
            alt="GitHub contributions calendar for @connorbuttonweb"
            style="max-width:100%; height:auto; display:block; border:1px solid #eaeaea; border-radius:12px;"/>
          </a>
      </section>

      <!-- Screenshots gallery -->
      <section class="snapshot-card">
        <div class="card snapshot-card--cover">
          <div class="gallery" data-gallery="mindmap">
            <figure class="wide"
              data-type="image"
              data-src="images/website/mindmap.png">
              <img src="images/website/mindmap.png">
            </figure>
          </div>
        </div>
      </section>

      <!-- ChatGPT threads -->
      <section class="card">
        <h2>ChatGPT Threads</h2>
        <p>It is funny how allowing people access to your AI chats has become a personal feeling, similar to that of a journal.
          That said the following is the link to the entirety of my website folder with Chat-GPT.
          While I am sure there have been many long forgotten chats in other folders, I want to highlight my conversations, because going back on them has made me realize how transformative this technology has been in allowing me to learn these new skills.
          When I look back on my inital progress, it is comical how much I rely on the LLM to do the work for me, when I now know the ins and outs of HTML and am able to edit and create pages freely, with little assistance. 
        </p>
        <ul class="arrow-list">
          
        </ul>
      </section>

      <!-- Open-source folder -->
      <section id="open-source">
        <h2>Open-source Code Folder</h2>
        <div class="folder">
          <div class="bar"><span class="dot"></span><span class="dot yellow"></span><span class="dot green"></span><strong style="margin-left:8px;">/site</strong></div>
          <table>
            <thead>
              <tr><th>File</th><th>Purpose</th><th class="file-actions">Actions</th></tr>
            </thead>
            <tbody>
              <tr>
                <td>index.html</td>
                <td>Home and global navigation entry</td>
                <td>
                  <a href="index.html" class="view-code" >View</a>
                  &nbsp; <a href="index.html" download>Download</a>
                </td>
              </tr>

              <tr>
                <td>portfolio.html</td>
                <td>Project gallery with Lightbox</td>
                <td>
                  <a href="portfolio.html" class="view-code" >View</a>
                  &nbsp; <a href="portfolio.html" download>Download</a>
                </td>
              </tr>

              <tr>
                <td>experience.html</td>
                <td>Experience timeline & roles</td>
                <td>
                  <a href="experience.html" class="view-code" >View</a>
                  &nbsp; <a href="experience.html" download>Download</a>
                </td>
              </tr>

              <tr>
                <td>hyrox.html</td>
                <td>Race narrative + gallery</td>
                <td>
                  <a href="hyrox.html" class="view-code" >View</a>
                  &nbsp; <a href="hyrox.html" download>Download</a>
                </td>
              </tr>

              <tr>
                <td>contact.html</td>
                <td>Contact card & links</td>
                <td>
                  <a href="contact.html" class="view-code" >View</a>
                  &nbsp; <a href="contact.html" download>Download</a>
                </td>
              </tr>

              <tr>
                <td>main.css</td>
                <td>Global styles, grid & components</td>
                <td>
                  <a href="main.css" class="view-code" >View</a>
                  &nbsp; <a href="main.css" download>Download</a>
                </td>
              </tr>

              <tr>
                <td>website.html</td>
                <td>Website Gallery timeline & Contributions</td>
                <td>
                  <a href="website.html" class="view-code" >View</a>
                  &nbsp; <a href="website.html" download>Download</a>
                </td>
              </tr>

            </tbody>
          </table>
        </div>
        <p class="small" style="margin-top:8px;">Public Repo: <a href="https://github.com/connorbuttonweb/connorbutton" target="_blank" rel="noopener">https://github.com/connorbuttonweb/connorbutton</a></p>
      </section>
    </div>
  </section>

  <!-- Lightbox root -->
  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog" aria-label="Media viewer">
    <div class="lightbox-content" id="lbContent" tabindex="0" aria-live="polite"></div>
    <button class="close" id="lbClose" aria-label="Close (Esc)">✕</button>
    <button class="prev" id="lbPrev" aria-label="Previous (←)">⬅</button>
    <button class="next" id="lbNext" aria-label="Next (→)">➡</button>
    <p class="caption" id="lbCaption"></p>
  </div>

  <!-- Performance + Lightbox JS (same pattern as other pages) -->
  <script>
    // lightweight lazy priorities
    (function () {
      const imgs = Array.from(document.querySelectorAll('img'));
      imgs.forEach((img, i) => {
        if (i < 2) { img.loading = 'eager'; img.fetchPriority = 'high'; }
        else { img.loading = 'lazy'; img.decoding = 'async'; img.fetchPriority = 'low'; }
      });
    })();

    // Lightbox
    (function(){
      const galleries = Array.from(document.querySelectorAll('.gallery'));
      const lightbox = document.getElementById('lightbox');
      const lbContent = document.getElementById('lbContent');
      const lbCaption = document.getElementById('lbCaption');
      const btnPrev = document.getElementById('lbPrev');
      const btnNext = document.getElementById('lbNext');
      const btnClose = document.getElementById('lbClose');

      const media = [];
      galleries.forEach(g => {
        const tiles = Array.from(g.querySelectorAll('figure'));
        tiles.forEach(t => media.push({
          el: t,
          gallery: g.dataset.gallery || 'gallery',
          type: t.dataset.type || (t.querySelector('video') ? 'video' : 'image'),
          src: (t.dataset.src
                  ? t.dataset.src.split(',').map(s => s.trim()).filter(Boolean)
                  : [t.querySelector('img,video')?.getAttribute('src')].filter(Boolean)),
          poster: t.dataset.poster || t.querySelector('video')?.getAttribute('poster') || '',
          caption: t.dataset.caption || t.querySelector('img')?.getAttribute('alt') || ''
        }));
      });

      let currentIndex = -1;

      function stopActiveVideo(){
        const v = lbContent.querySelector('video');
        if (v){
          try { v.pause(); } catch(_) {}
          v.removeAttribute('src');
          v.querySelectorAll('source').forEach(s => s.remove());
          v.load();
        }
      }
      function renderMedia(item){
        stopActiveVideo();
        lbContent.innerHTML = '';
        if (item.type === 'video'){
          const v = document.createElement('video');
          v.controls = true; v.playsInline = true; v.preload = 'metadata';
          if (item.poster) v.poster = item.poster;
          (Array.isArray(item.src) ? item.src : [item.src]).forEach(src => {
            const s = document.createElement('source');
            s.src = src; s.type = src.endsWith('.webm') ? 'video/webm' : 'video/mp4';
            v.appendChild(s);
          });
          lbContent.appendChild(v); v.muted = true; v.play().catch(()=>{});
        } else {
          const img = document.createElement('img');
          img.src = Array.isArray(item.src) ? item.src[0] : item.src;
          img.alt = item.caption || 'Expanded image';
          lbContent.appendChild(img);
        }
        lbCaption.textContent = item.caption || '';
      }
      function openAt(i){ if(i<0||i>=media.length) return; renderMedia(media[i]); currentIndex=i; lightbox.classList.add('open'); document.body.style.overflow='hidden'; lbContent.focus(); }
      function close(){ lightbox.classList.remove('open'); document.body.style.overflow=''; stopActiveVideo(); lbContent.innerHTML=''; lbCaption.textContent=''; }
      function prev(){ stopActiveVideo(); openAt((currentIndex - 1 + media.length) % media.length); }
      function next(){ stopActiveVideo(); openAt((currentIndex + 1) % media.length); }

      media.forEach((m, idx) => {
        m.el.addEventListener('click', () => openAt(idx));
        m.el.setAttribute('tabindex', '0');
        m.el.setAttribute('role', 'button');
        m.el.addEventListener('keydown', (e) => {
          if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); openAt(idx); }
        });
      });
      btnClose.addEventListener('click', close);
      btnPrev.addEventListener('click', prev);
      btnNext.addEventListener('click', next);
      lightbox.addEventListener('click', (e) => { if(e.target === lightbox) close(); });
      document.addEventListener('keydown', (e) => {
        if(!lightbox.classList.contains('open')) return;
        if(e.key === 'Escape') close();
        else if(e.key === 'ArrowLeft') prev();
        else if(e.key === 'ArrowRight') next();
      });


      // Swipe (mobile)
      let touchStartX = null;
      lightbox.addEventListener('touchstart', e => { touchStartX = e.changedTouches[0].clientX; }, { passive:true });
      lightbox.addEventListener('touchend', e => {
        if (touchStartX === null) return;
        const dx = e.changedTouches[0].clientX - touchStartX;
        if (Math.abs(dx) > 50) { dx > 0 ? prev() : next(); }
        touchStartX = null;
      }, { passive:true });
    })();
  </script>

    <script>
    (function () {
      const lb = document.getElementById('lightbox');
      const content = document.getElementById('lbContent');
      const caption = document.getElementById('lbCaption');

      function escapeHTML(s){
        return s.replace(/&/g,'&amp;')
                .replace(/</g,'&lt;')
                .replace(/>/g,'&gt;');
      }

      // Map file extension -> Prism language class
      function extToPrismLang(file){
        const f = file.toLowerCase();
        if (f.endsWith('.html') || f.endsWith('.htm')) return 'markup';
        if (f.endsWith('.css')) return 'css';
        if (f.endsWith('.js')) return 'javascript';
        if (f.endsWith('.json')) return 'json';
        if (f.endsWith('.md')) return 'markdown';
        if (f.endsWith('.ts')) return 'ts';        // if you add prism-typescript
        if (f.endsWith('.py')) return 'python';    // if you add prism-python
        return 'markup'; // safe default
      }

      async function openCode(file, label){
        try {
          const res = await fetch(file, { cache: 'no-store' });
          const text = await res.text();
          const lang = extToPrismLang(file);

          content.innerHTML =
            '<pre class="line-numbers"><code class="language-' + lang + '">' +
            escapeHTML(text) +
            '</code></pre>';

          // Highlight only inside the lightbox content
          if (window.Prism && Prism.highlightAllUnder) {
            Prism.highlightAllUnder(content);
          }

          caption.textContent = label || file.split('/').pop();
          lb.classList.add('open');
          document.body.style.overflow = 'hidden';
          content.focus();
        } catch (e) {
          content.innerHTML = '<div style="padding:24px;">Could not load file.</div>';
          caption.textContent = file;
          lb.classList.add('open');
        }
      }

      document.addEventListener('click', function (e) {
        const a = e.target.closest('a.view-code');
        if (!a) return;
        e.preventDefault();
        const file = a.dataset.file || a.getAttribute('href');
        const label = file.split('/').pop();
        openCode(file, label);
      }, false);
    })();
    </script>

</body>
</html>