<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Professional Portfolio</title>
    <link rel="icon" type="image/png" href="images/favicon.png" />
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Minimal page-specific styles: lightbox + small enhancements */
    .page-title { margin: 0 0 0.5rem; }
    .page-subtitle { margin: 0 0 1.5rem; color: var(--muted); }

    /* Use the global .gallery styles from main.css. Add click affordances only. */
    .gallery figure{
      position: relative;
      cursor: zoom-in;
      border-radius: var(--radius);
      overflow: hidden;
    }
    .gallery img, .gallery video{ display:block; width:100%; height:100%; object-fit:cover; }

    /* --- ADDED THIS FOR ABOUT SECTION LIGHTBOX INTERACTIVITY --- */
    .about-photo-grid img {
        cursor: pointer;
        transition: transform 0.2s ease;
    }
    .about-photo-grid img:hover {
        transform: scale(1.02);
        opacity: 0.9;
    }
    /* ----------------------------------------------------------- */

    .media-badge{
      position: absolute;
      right: 10px; bottom: 10px;
      font-size: 12px; padding: 4px 8px;
      border-radius: 999px;
      background: rgba(0,0,0,0.6);
      color:#fff; backdrop-filter: blur(3px);
      user-select:none; pointer-events:none;
    }

    /* Lightbox overlay */
    .lightbox {
      position: fixed; inset: 0;
      display: none; align-items: center; justify-content: center;
      background: rgba(0,0,0,0.9);
      z-index: 9999;
    }
    .lightbox.open { display: flex; }
    .lightbox-content {
      position: relative;
      max-width: 95vw; max-height: 92vh; width: min(1100px, 95vw);
      display:flex; align-items:center; justify-content:center;
    }
    .lightbox img, .lightbox video {
      max-width: 100%; max-height: 92vh; width: auto; height:auto;
      border-radius: 12px;
      outline: 1px solid rgba(255,255,255,0.15);
      background:#000;
    }
    .lightbox .close,
    .lightbox .prev,
    .lightbox .next {
      position: absolute; top: 50%; transform: translateY(-50%);
      border: 0; background: rgba(255,255,255,0.12); color: #fff;
      padding: 0.65rem 0.8rem; border-radius: 10px; cursor: pointer; font-weight: 700;
    }
    .lightbox .close { top: 2%; right: 2%; transform: none; }
    .lightbox .prev { left: 1.2%; }
    .lightbox .next { right: 1.2%; }
    .lightbox .close:hover, .lightbox .prev:hover, .lightbox .next:hover{
      background: rgba(255,255,255,0.22);
    }
    .caption {
      margin-top: 0.75rem;
      text-align: center;
      color: #f0f0f0;
      font-size: 0.95rem;
      opacity: 0.85;
      max-width: min(900px, 90vw);
    }
  </style>
</head>

<script>
(function () {
  // 1) Images: eager-load the first couple above the fold; lazy-load the rest
  const imgs = Array.from(document.querySelectorAll('img'));
  imgs.forEach((img, i) => {
    if (i < 2) {                 // first two images on the page
      img.loading = 'eager';
      img.fetchPriority = 'high';
    } else {
      img.loading = 'lazy';
      img.decoding = 'async';
      img.fetchPriority = 'low';
    }
  });

  // 2) Videos: don’t download until needed, and pause when off-screen
  const vids = document.querySelectorAll('video');
  vids.forEach(v => { v.preload = 'none'; });

  const iv = new IntersectionObserver((entries) => {
    entries.forEach(({isIntersecting, target:v}) => {
      if (!isIntersecting && !v.paused) v.pause();
    });
  }, { threshold: 0.1 });
  vids.forEach(v => iv.observe(v));
})();
</script>

<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span class="logo-icon"></span>
                <span class="logo-text">CONNOR BUTTON</span>
            </div>
            
            <ul class="nav-menu">
                <li><a href="#home" class="nav-link active">HOME</a></li>
                <li><a href="#about" class="nav-link">ABOUT</a></li>
                <li><a href="#service" class="nav-link">SERVICE</a></li>
                <li><a href="#portfolio" class="nav-link">PORTFOLIO</a></li>
                <li><a href="#pages" class="nav-link">PAGES</a></li>
            </ul>

            <div class="nav-right">
                <a href="contact.html" class="contact-btn">Contact Me</a>
            </div>
        </div>
    </nav>

    <section class="hero" id="home" style="background-image: url('images/background.jpg');">
        <div class="hero-overlay"></div>
        
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    SMART ENOUGH TO FIND THE WAY<br>
                    STRONG ENOUGH TO PAVE IT
                </h1>
                
                <p class="hero-subtitle">
                    As I begin my career in finance, I aim to bring with me a steep 
                    learning curve and a fresh perspective. <br><br>
                    I'm ready to apply my curiosity and work ethic, to not only adapt 
                    quickly, but exceed expectations.
                </p>
                
                <a href="#about" class="btn btn--primary">ABOUT ME</a>
                <a href="homeport.html" class="btn btn--primary">PORTFOLIO</a>
            </div>
            
            <div class="hero-image">
                <img src="images/avatar.png" alt="Professional Avatar">
            </div>
        </div>

        <div class="social-icons">
            <a href="https://www.linkedin.com/in/connor-button-a9097833b/" class="social-link" title="LinkedIn" target="_blank" rel="noopener">
                <i class="fab fa-linkedin-in"></i>
            </a>
            <a href="https://www.instagram.com/couuor/" class="social-link" title="Instagram" target="_blank" rel="noopener">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="Connor Button Resume.pdf" class="social-link" title="Resume" target="_blank" rel="noopener">
                <i class="fas fa-file-pdf"></i>
            </a>
        </div>
    </section>

    <section class="about-me" id="about">
    <div class="about-container">
        <div class="about-grid">
            <div class="about-photo">
            <div class="about-photo-grid">
                <img src="images/about1.jpg"  class="about-photo">

                <img src="images/about2.jpg"  class="about-photo">

                <img src="images/about3.jpg"  class="about-photo">

                <img src="images/about4.jpg"  class="about-photo">
            </div>
            </div>

            <div class="about-text">
                <h2>Who Am I</h2>
                <p>
                I’m Connor Button, a Queen’s Applied Economics student and Business Certificate candidate. 
                My skillsets are the combination of hands-on leadership and analytical problem-solving. 
                From leading construction projects as a foreman to excelling in the top percentiles of my 
                economics courses, I’ve learned how to manage complex projects with both precision and adaptability.
                <br><br> I love travel, the outdoors, and challenging myself with tough projects. Recently, that challenge 
                has been teaching myself to code and design my personal website using experience from marketing
                and computing coursework. This process has aided me in my greater goal of securing offers to
                top financial firms while learning the intern processes for the first time. The outcome, I have 
                built this website entirely from scratch without the assistance of pre-made platforms, which has 
                aided in multiple intern cycles and networking events. <br><br> I am driven, hard-working, capable, and 
                passionate. This allows me to visualize my path and take the steps needed to execute my future.
                </p>
            </div>
        </div>
    </div>
    </section>

  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog" aria-label="Media viewer">
    <div class="lightbox-content" id="lbContent" tabindex="0" aria-live="polite"></div>
    <button class="close" id="lbClose" aria-label="Close (Esc)">✕</button>
    <button class="prev" id="lbPrev" aria-label="Previous (←)">⬅</button>
    <button class="next" id="lbNext" aria-label="Next (→)">➡</button>
    <p class="caption" id="lbCaption"></p>
  </div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const lightbox = document.getElementById('lightbox');
    const lbContent = document.getElementById('lbContent');
    const lbCaption = document.getElementById('lbCaption');
    const lbClose = document.getElementById('lbClose');
    const lbPrev = document.getElementById('lbPrev');
    const lbNext = document.getElementById('lbNext');

    // EDITED SELECTOR: Specifically target images inside the grid
    // The previous selector '.about-photo' was also selecting the container DIV, causing errors.
    const photos = Array.from(document.querySelectorAll('.about-photo-grid img'));
    let currentIndex = 0;

    function openLightbox(index) {
      currentIndex = index;
      const img = photos[currentIndex];
      
      // Safety check to ensure we actually clicked an image
      if (!img || img.tagName !== 'IMG') return;

      lbContent.innerHTML = '';
      const clone = img.cloneNode(true);
      // Remove classes to prevent layout conflicts inside the lightbox
      clone.removeAttribute('class');
      clone.style.cursor = 'default'; // Reset cursor in lightbox
      lbContent.appendChild(clone);

      lbCaption.textContent = img.alt || '';

      lightbox.style.display = 'flex'; 
      lbContent.focus();
    }

    function closeLightbox() {
      lightbox.style.display = 'none';
      lbContent.innerHTML = ''; // Clear content on close
    }

    function showNext() {
      if (!photos.length) return;
      currentIndex = (currentIndex + 1) % photos.length;
      openLightbox(currentIndex);
    }

    function showPrev() {
      if (!photos.length) return;
      currentIndex = (currentIndex - 1 + photos.length) % photos.length;
      openLightbox(currentIndex);
    }

    // Attach click events
    photos.forEach((img, index) => {
      img.addEventListener('click', (e) => {
        e.stopPropagation(); // Prevent bubbling issues
        openLightbox(index);
      });
    });

    lbClose.addEventListener('click', closeLightbox);
    lbNext.addEventListener('click', (e) => { e.stopPropagation(); showNext(); });
    lbPrev.addEventListener('click', (e) => { e.stopPropagation(); showPrev(); });

    // Close when clicking outside content
    lightbox.addEventListener('click', (e) => {
      if (e.target === lightbox) closeLightbox();
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      // Check if lightbox is actually visible
      const style = window.getComputedStyle(lightbox);
      if (style.display === 'none') return;
      
      if (e.key === 'Escape') closeLightbox();
      if (e.key === 'ArrowRight') showNext();
      if (e.key === 'ArrowLeft') showPrev();
    });
  });
</script>

</body>
</html>