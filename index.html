<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Internalytics — Recruiting, decoded.</title>
  <link rel="stylesheet" href="main.css" />
  <meta name="description" content="Analyze internship cycles, uncover timing patterns, and act with insight. Internalytics focuses on insight over listings." />
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container inner">
      <a href="index.html" class="row" style="gap:.6rem;text-decoration:none">
        <img src="images/logo.png" alt="Internalytics mark" width="28" height="28" style="border-radius:6px;box-shadow:var(--shadow-sm)" />
        <strong style="color:var(--text-strong)">Internalytics</strong>
      </a>
      <nav class="nav" aria-label="Primary">
        <a href="radar.html">Opportunity Radar</a>
        <a href="cycle.html">Cycle Intelligence</a>
        <a href="playbooks.html">Playbooks</a>
        <a href="networking.html">Networking Hub</a>
        <a href="tracker.html">Tracker</a>
        <a href="about.html">About</a>
        <a class="cta" href="account.html">Sign in</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="container content">
      <div class="row" style="gap:1rem;align-items:center">
        <img src="images/logo.png" alt="Internalytics logo" width="64" height="64" style="border-radius:16px;box-shadow:var(--shadow-md)" />
        <div>
          <h1>Recruiting, decoded.</h1>
          <p>Analyze internship cycles, uncover timing patterns, and act with insight across Finance, Accounting, Consulting, and Real Estate.</p>
        </div>
      </div>
      <div class="actions">
        <a class="btn" href="#cycle-intelligence">See Timeline</a>
        <a class="btn secondary" href="radar.html">Explore Radar</a>
        <a class="btn ghost" href="account.html">Sign in</a>
      </div>
    </div>
  </section>

  <!-- Snapshot Analytics Bar -->
  <section class="section">
    <div class="container">
      <div class="analytics-bar" role="region" aria-label="Snapshot KPIs">
        <div class="kpi">
          <div class="value" id="kpi-open">42</div>
          <div class="label">Open applications now</div>
        </div>
        <div class="kpi">
          <div class="value" id="kpi-interview">18</div>
          <div class="label">Interview windows active</div>
        </div>
        <div class="kpi">
          <div class="value" id="kpi-offer">6</div>
          <div class="label">Offer waves this week</div>
        </div>
        <div class="kpi">
          <div class="value" id="kpi-updated">Today</div>
          <div class="label">Last data refresh</div>
        </div>
      </div>
    </div>
  </section>






<!-- Cycle Intelligence — Infinite Desktop Wheel (fixed left column) -->
<section id="cycle-intelligence" class="section headroom">
  <div class="container">
    <div class="row" style="justify-content:space-between;align-items:center;">
      <h2 class="m-0">Cycle Intelligence — Infinite Timeline</h2>
      <div>
        <button id="prevBtn" class="btn ghost small">←</button>
        <button id="nextBtn" class="btn ghost small">→</button>
      </div>
    </div>
    <p class="caption mt-2">Scroll or drag the timeline. Labels stay pinned; months loop endlessly.</p>

    <div class="ci-wrap">
      <!-- Left: fixed labels -->
      <div class="ci-left">
        <div class="ci-left-head">Discipline</div>
        <div id="ciLabels" class="ci-left-body"></div>
      </div>

      <!-- Right: scrollable + looping content -->
      <div class="ci-right">
        <div id="ciScroll" class="ci-scroll">
          <div class="ci-right-head" id="ciMonths"></div>
          <div id="ciRows" class="ci-rows"></div>
          <div class="ci-today" id="ciToday"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
/* ---- Layout ---- */
.ci-wrap{display:flex;position:relative;border:1px solid #ddd;border-radius:12px;overflow:hidden;background:#fff}
.ci-left{flex:0 0 160px;border-right:1px solid #ddd;background:#fafafa;z-index:2}
.ci-right{position:relative;flex:1;overflow:hidden}

/* Left column */
.ci-left-head{padding:10px 12px;font-weight:600;border-bottom:1px solid #ddd;background:#f7f7f7}
.ci-left-body .ci-label{height:42px;display:flex;align-items:center;padding:0 12px;border-bottom:1px solid #eee;font-weight:600}

/* Right scroller */
.ci-scroll{position:relative;overflow-x:scroll;overflow-y:hidden;cursor:grab;scrollbar-width:none}
.ci-scroll::-webkit-scrollbar{display:none}
.ci-scroll.dragging{cursor:grabbing}

/* Header months: 36 columns (3× year for loop) */
.ci-right-head{display:grid;grid-template-columns:repeat(36,1fr);text-align:center;font-weight:600;background:#f7f7f7;border-bottom:1px solid #ddd}
.ci-right-head > div{padding:10px 0;position:relative}
.ci-right-head > div::after{content:"";position:absolute;right:0;top:50%;transform:translateY(-50%);height:60%;width:1px;background:#e9e9e9}

/* Rows area */
.ci-rows{position:relative}
.ci-row{display:grid;grid-template-columns:repeat(36,1fr);height:42px;border-bottom:1px solid #eee;position:relative}
.ci-cell{position:relative}
.ci-cell::after{content:"";position:absolute;right:0;top:6px;bottom:6px;width:1px;background:#f0f0f0}

/* Highlight bars */
.ci-bar{position:absolute;height:26px;background:rgba(0,200,0,.25);border-radius:4px;top:8px}

/* Today line (inside scroller so it moves with content) */
.ci-today{position:absolute;top:0;bottom:0;width:2px;background:red;pointer-events:none;z-index:5}
</style>

<script>
/* ===== Config/Data ===== */
const MONTHS = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
const DISCIPLINES = [
  { name:"Finance",     ranges:[{start:"2025-09-01", end:"2025-11-15"}] },
  { name:"Accounting",  ranges:[{start:"2025-07-01", end:"2025-09-30"}] },
  { name:"Consulting",  ranges:[{start:"2025-08-15", end:"2025-10-31"}] },
  { name:"Real Estate", ranges:[{start:"2025-09-10", end:"2025-12-05"}] }
];

/* ===== Elements ===== */
const monthsEl = document.getElementById("ciMonths");
const rowsEl   = document.getElementById("ciRows");
const labelsEl = document.getElementById("ciLabels");
const scrollEl = document.getElementById("ciScroll");
const todayEl  = document.getElementById("ciToday");

/* ===== Render ===== */
function render() {
  // header months (repeat x3 for loop effect)
  monthsEl.innerHTML = "";
  for (let i=0;i<36;i++){
    const d=document.createElement("div");
    d.textContent = MONTHS[i%12];
    monthsEl.appendChild(d);
  }

  // left labels
  labelsEl.innerHTML = "";
  DISCIPLINES.forEach(d=>{
    const lab=document.createElement("div");
    lab.className="ci-label";
    lab.textContent=d.name;
    labelsEl.appendChild(lab);
  });

  // rows (grid of 36 columns) + bars repeated across 3 copies
  rowsEl.innerHTML = "";
  const startOfYear = new Date(new Date().getFullYear(), 0, 1);
  const endOfYear   = new Date(new Date().getFullYear(), 11, 31);
  const yearMs = endOfYear - startOfYear;

  DISCIPLINES.forEach(d=>{
    const row=document.createElement("div");
    row.className="ci-row";
    // grid cells only for vertical month separators (visual)
    for (let i=0;i<36;i++){
      const c=document.createElement("div");
      c.className="ci-cell";
      row.appendChild(c);
    }
    // add bars
    d.ranges.forEach(r=>{
      const s=new Date(r.start), e=new Date(r.end);
      let sRatio=(s-startOfYear)/yearMs, eRatio=(e-startOfYear)/yearMs;
      if (eRatio < sRatio) eRatio += 1; // if it ever crosses year end

      for (let copy=0; copy<3; copy++){
        const bar=document.createElement("div");
        bar.className="ci-bar";
        const leftPct = (sRatio*100) + copy*100;
        const widthPct = (eRatio - sRatio)*100;
        bar.style.left  = `calc(${leftPct}% )`;
        bar.style.width = `${widthPct}%`;
        row.appendChild(bar);
      }
    });
    rowsEl.appendChild(row);
  });

  // place today's line in the middle (copy #2) so you start centered
  positionTodayLine();
  // center scroll to the middle copy
  requestAnimationFrame(()=> {
    const oneYearWidth = monthsEl.scrollWidth / 3;
    scrollEl.scrollLeft = oneYearWidth; // middle copy
  });
}

function positionTodayLine(){
  const now = new Date();
  const y0  = new Date(now.getFullYear(),0,1);
  const y1  = new Date(now.getFullYear(),11,31);
  const ratio = (now - y0) / (y1 - y0); // 0..1 across one year
  const oneYearWidth = monthsEl.scrollWidth / 3;
  const x = (ratio * oneYearWidth) + oneYearWidth; // put in middle copy
  todayEl.style.left = `${x}px`;
}

/* ===== Infinite Loop Handling ===== */
function keepLooping(){
  const oneYearWidth = monthsEl.scrollWidth / 3;
  // when the scroll passes beyond middle ± 0.5 year, snap back within middle copy
  if (scrollEl.scrollLeft < oneYearWidth*0.5){
    scrollEl.scrollLeft += oneYearWidth;
  } else if (scrollEl.scrollLeft > oneYearWidth*1.5){
    scrollEl.scrollLeft -= oneYearWidth;
  }
  requestAnimationFrame(keepLooping);
}

/* ===== Drag + Wheel scroll (desktop) ===== */
let isDown=false, startX=0, startLeft=0;
scrollEl.addEventListener("mousedown",(e)=>{
  isDown=true; scrollEl.classList.add("dragging");
  startX = e.pageX; startLeft = scrollEl.scrollLeft;
});
scrollEl.addEventListener("mouseup",()=>{ isDown=false; scrollEl.classList.remove("dragging"); });
scrollEl.addEventListener("mouseleave",()=>{ isDown=false; scrollEl.classList.remove("dragging"); });
scrollEl.addEventListener("mousemove",(e)=>{
  if(!isDown) return;
  e.preventDefault();
  const dx = e.pageX - startX;
  scrollEl.scrollLeft = startLeft - dx;
});
// vertical wheels/trackpads scroll horizontally
scrollEl.addEventListener("wheel",(e)=>{
  if(Math.abs(e.deltaY) >= Math.abs(e.deltaX)){
    e.preventDefault();
    scrollEl.scrollLeft += e.deltaY;
  }
},{passive:false});

/* ===== Init ===== */
render();
setInterval(positionTodayLine, 60000); // keep red line current
keepLooping();

/* Buttons */
document.getElementById("prevBtn").addEventListener("click",()=>scrollEl.scrollBy({left:-300,behavior:"smooth"}));
document.getElementById("nextBtn").addEventListener("click",()=>scrollEl.scrollBy({left:300,behavior:"smooth"}));
</script>








  <!-- Profession Feature Grid -->
  <section class="section">
    <div class="container grid cols-4">
      <a class="card lift feature-card finance" href="radar.html?profession=finance">
        <div class="title">Finance</div>
        <div class="meta">IB, S&T, AM timelines</div>
      </a>
      <a class="card lift feature-card accounting" href="radar.html?profession=accounting">
        <div class="title">Accounting</div>
        <div class="meta">Assurance & Tax cycles</div>
      </a>
      <a class="card lift feature-card consulting" href="radar.html?profession=consulting">
        <div class="title">Consulting</div>
        <div class="meta">Strategy & Ops recruiting</div>
      </a>
      <a class="card lift feature-card realestate" href="radar.html?profession=realestate">
        <div class="title">Real Estate</div>
        <div class="meta">Investment & Dev tracks</div>
      </a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container inner">
      <small>Built for students who think in data.</small>
      <small>© <span id="year"></span> Internalytics</small>
    </div>
  </footer>

  <!-- Minimal JS: JSON-driven CycleMap preview (MVP, static data) -->
  <script>
    // Example static JSON dataset for the preview (Phase 1 / MVP)
    const cycleData = [
      { role: "Finance — Bulge Bracket", phases: [
        { type: "open", start: 5, end: 25 },      // day-of-year percentages (0–100)
        { type: "interview", start: 26, end: 45 },
        { type: "offer", start: 46, end: 55 },
      ]},
      { role: "Accounting — Big 4", phases: [
        { type: "open", start: 10, end: 30 },
        { type: "interview", start: 34, end: 52 },
        { type: "offer", start: 58, end: 65 },
      ]},
      { role: "Consulting — MBB/Boutique", phases: [
        { type: "open", start: 15, end: 35 },
        { type: "interview", start: 40, end: 60 },
        { type: "offer", start: 64, end: 75 },
      ]},
      { role: "Real Estate — IM/Dev", phases: [
        { type: "open", start: 20, end: 38 },
        { type: "interview", start: 42, end: 58 },
        { type: "offer", start: 63, end: 72 },
      ]},
    ];

    const rowsHost = document.getElementById("cycle-rows");

    function renderCycleRows(data) {
      rowsHost.innerHTML = "";
      data.forEach(item => {
        const row = document.createElement("div");
        row.className = "row";
        const role = document.createElement("div");
        role.className = "role";
        role.textContent = item.role;
        const lane = document.createElement("div");
        lane.className = "lane";
        // add phases
        item.phases.forEach(p => {
          const el = document.createElement("div");
          el.className = "phase " + p.type;
          el.style.left = p.start + "%";
          el.style.width = (p.end - p.start) + "%";
          el.title = p.type.toUpperCase() + " • " + p.start + "%–" + p.end + "%";
          el.setAttribute("aria-label", el.title);
          lane.appendChild(el);
        });
        row.appendChild(role);
        row.appendChild(lane);
        rowsHost.appendChild(row);
      });
    }
    renderCycleRows(cycleData);

    // Year in footer
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
