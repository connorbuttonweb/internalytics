<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Internalytics — Recruiting, decoded.</title>
  <link rel="stylesheet" href="main.css" />
  <meta name="description" content="Analyze internship cycles, uncover timing patterns, and act with insight. Internalytics focuses on insight over listings." />
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container inner">
      <a href="index.html" class="row" style="gap:.6rem;text-decoration:none">
        <img src="images/logo.png" alt="Internalytics mark" width="28" height="28" style="border-radius:6px;box-shadow:var(--shadow-sm)" />
        <strong style="color:var(--text-strong)">Internalytics</strong>
      </a>
      <nav class="nav" aria-label="Primary">
        <a href="careers.html">Career List</a>
        <a class="cta" href="account.html">Sign in</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="container content">
      <div class="row" style="gap:1rem;align-items:center">
        <img src="images/logo.png" alt="Internalytics logo" width="64" height="64" style="border-radius:16px;box-shadow:var(--shadow-md)" />
        <div>
          <h1>Recruiting, decoded.</h1>
          <p>Analyze internship cycles, uncover timing patterns, and act with insight across Finance, Accounting, Consulting, and Real Estate.</p>
        </div>
      </div>
      <div class="actions">
        <a class="btn" href="#cycle-intelligence">See Timeline</a>
        <a class="btn secondary" href="radar.html">Explore Radar</a>
        <a class="btn ghost" href="account.html">Sign in</a>
      </div>
    </div>
  </section>

  <!-- Snapshot Analytics Bar -->
  <section class="section">
    <div class="container">
      <div class="analytics-bar" role="region" aria-label="Snapshot KPIs">
        <div class="kpi">
          <div class="value" id="kpi-open">0</div>
          <div class="label">Open applications now</div>
        </div>
        <div class="kpi">
          <div class="value" id="kpi-interview">0</div>
          <div class="label">Interview windows active</div>
        </div>
        <div class="kpi">
          <div class="value" id="kpi-offer">0</div>
          <div class="label">Offer waves this week</div>
        </div>
        <div class="kpi">
          <div class="value" id="kpi-updated">Today</div>
          <div class="label">Last data refresh</div>
        </div>
      </div>
    </div>
  </section>






<!-- Cycle Intelligence Desktop Scrollable Calendar (Aligned Version) -->
<section id="cycle-intelligence" class="section headroom">
  <div class="container">
    <div class="row" style="justify-content:space-between;align-items:center;">
      <h2 class="m-0">Cycle Intelligence | Timeline</h2>
      <div>
        <button id="prevBtn" class="btn ghost small">←</button>
        <button id="nextBtn" class="btn ghost small">→</button>
      </div>
    </div>
    <p class="caption mt-2">Interactive recruiting timeline by discipline. Click and drag to explore months.</p>

    <div class="calendar-wrapper" id="calendarWrapper">
      <div class="calendar-header">
        <div class="discipline-label-header"></div>
        <div class="calendar-month-header" id="monthHeader"></div>
      </div>
      <div class="calendar-body" id="calendarBody"></div>
      <div class="today-line" id="todayLine"></div>
    </div>
  </div>
</section>

<style>
/* ---- Container & Layout ---- */
.calendar-wrapper {
  position: relative;
  border: 1px solid var(--border-color, #ddd);
  border-radius: 12px;
  overflow: hidden;
  background: #fff;
}

.calendar-header {
  display: flex;
  border-bottom: 1px solid #ddd;
}

.discipline-label-header {
  flex: 0 0 160px;
  font-weight: 600;
  text-align: left;
  padding: 10px 12px;
  background: var(--bg-subtle, #f7f7f7);
  border-right: 1px solid #ddd;
  z-index: 5;
}

.calendar-month-header {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  flex: 1;
  text-align: center;
  font-weight: 600;
  background: var(--bg-subtle, #fafafa);
  padding: 10px 0;
  position: relative;
  z-index: 1;
}

.calendar-body {
  display: flex;
  flex-direction: column;
  position: relative;
  max-height: 320px;
}

/* ---- Each Row ---- */
.calendar-row-wrapper {
  display: flex;
  align-items: center;
  border-bottom: 1px solid #eee;
  position: relative;
}

.discipline-cell {
  flex: 0 0 160px;
  font-weight: 600;
  padding: 10px 12px;
  border-right: 1px solid #eee;
  background: var(--bg-subtle, #fafafa);
  z-index: 4;
}

.timeline-cell {
  flex: 1;
  overflow: hidden;
  position: relative;
  height: 42px;
}

.timeline-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  height: 100%;
}

.timeline-cell .highlight {
  position: absolute;
  height: 26px;
  background: rgba(0, 200, 0, 0.25);
  border-radius: 4px;
  top: 8px;
}

.today-line {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 2px;
  background: red;
  z-index: 10;
  pointer-events: none;
}

.calendar-scroll {
  overflow: hidden; /* hides scrollbar */
  cursor: grab;
}
.calendar-scroll.dragging {
  cursor: grabbing;
}
</style>

<script>
// ----- Config -----
const monthHeader = document.getElementById("monthHeader");
const calendarBody = document.getElementById("calendarBody");
const todayLine = document.getElementById("todayLine");
const MONTH_NAMES = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

const cycleRanges = [
  { discipline: "Finance",     ranges: [{ start: "2025-09-01", end: "2025-11-15" }] },
  { discipline: "Accounting",  ranges: [{ start: "2025-07-01", end: "2025-09-30" }] },
  { discipline: "Consulting",  ranges: [{ start: "2025-08-15", end: "2025-10-31" }] },
  { discipline: "Real Estate", ranges: [{ start: "2025-09-10", end: "2025-12-05" }] }
];

// ----- Rendering -----
function renderCalendar() {
  // Build month header
  monthHeader.innerHTML = "";
  MONTH_NAMES.forEach(m => {
    const cell = document.createElement("div");
    cell.textContent = m;
    monthHeader.appendChild(cell);
  });

  // Build discipline rows
  calendarBody.innerHTML = "";
  const startOfYear = new Date(new Date().getFullYear(), 0, 1);
  const endOfYear = new Date(new Date().getFullYear(), 11, 31);
  const totalMs = endOfYear - startOfYear;

  cycleRanges.forEach(item => {
    const rowWrapper = document.createElement("div");
    rowWrapper.className = "calendar-row-wrapper";

    const label = document.createElement("div");
    label.className = "discipline-cell";
    label.textContent = item.discipline;
    rowWrapper.appendChild(label);

    const timeline = document.createElement("div");
    timeline.className = "timeline-cell";
    const grid = document.createElement("div");
    grid.className = "timeline-grid";
    timeline.appendChild(grid);

    // Add highlight bars
    item.ranges.forEach(r => {
      const s = new Date(r.start);
      const e = new Date(r.end);
      const startRatio = (s - startOfYear) / totalMs;
      const endRatio = (e - startOfYear) / totalMs;
      const highlight = document.createElement("div");
      highlight.className = "highlight";
      highlight.style.left = `${startRatio * 100}%`;
      highlight.style.width = `${(endRatio - startRatio) * 100}%`;
      timeline.appendChild(highlight);
    });

    rowWrapper.appendChild(timeline);
    calendarBody.appendChild(rowWrapper);
  });

  updateTodayLine();
}

// ----- Today Line -----
function updateTodayLine() {
  const now = new Date();
  const startOfYear = new Date(now.getFullYear(), 0, 1);
  const endOfYear = new Date(now.getFullYear(), 11, 31);
  const ratio = (now - startOfYear) / (endOfYear - startOfYear);
  const totalWidth = monthHeader.offsetWidth;
  todayLine.style.left = `${160 + ratio * totalWidth}px`; // +160 for fixed column width
}

// ----- Drag Scroll -----
const calendarWrapper = document.getElementById("calendarWrapper");
let isDown = false;
let startX;
let scrollLeft;

calendarWrapper.addEventListener('mousedown', (e) => {
  isDown = true;
  calendarWrapper.classList.add('dragging');
  startX = e.pageX - calendarWrapper.offsetLeft;
  scrollLeft = calendarWrapper.scrollLeft;
});

calendarWrapper.addEventListener('mouseleave', () => {
  isDown = false;
  calendarWrapper.classList.remove('dragging');
});

calendarWrapper.addEventListener('mouseup', () => {
  isDown = false;
  calendarWrapper.classList.remove('dragging');
});

calendarWrapper.addEventListener('mousemove', (e) => {
  if (!isDown) return;
  e.preventDefault();
  const x = e.pageX - calendarWrapper.offsetLeft;
  const walk = (x - startX);
  calendarWrapper.scrollLeft = scrollLeft - walk;
});

// ----- Arrow Buttons -----
document.getElementById("prevBtn").addEventListener("click", () => {
  calendarWrapper.scrollBy({ left: -300, behavior: "smooth" });
});
document.getElementById("nextBtn").addEventListener("click", () => {
  calendarWrapper.scrollBy({ left: 300, behavior: "smooth" });
});

// ----- Init -----
renderCalendar();
setInterval(updateTodayLine, 60000);
</script>








  <!-- Profession Feature Grid -->
  <section class="section">
    <div class="container grid cols-4">
      <a class="card lift feature-card finance" href="radar.html?profession=finance">
        <div class="title">Finance</div>
        <div class="meta">IB, S&T, AM timelines</div>
      </a>
      <a class="card lift feature-card accounting" href="radar.html?profession=accounting">
        <div class="title">Accounting</div>
        <div class="meta">Assurance & Tax cycles</div>
      </a>
      <a class="card lift feature-card consulting" href="radar.html?profession=consulting">
        <div class="title">Consulting</div>
        <div class="meta">Strategy & Ops recruiting</div>
      </a>
      <a class="card lift feature-card realestate" href="radar.html?profession=realestate">
        <div class="title">Real Estate</div>
        <div class="meta">Investment & Dev tracks</div>
      </a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container inner">
      <small>Built for students who think in data.</small>
      <small>© <span id="year"></span> Internalytics</small>
    </div>
  </footer>

  <!-- Minimal JS: JSON-driven CycleMap preview (MVP, static data) -->
  <script>
    // Example static JSON dataset for the preview (Phase 1 / MVP)
    const cycleData = [
      { role: "Finance — Bulge Bracket", phases: [
        { type: "open", start: 5, end: 25 },      // day-of-year percentages (0–100)
        { type: "interview", start: 26, end: 45 },
        { type: "offer", start: 46, end: 55 },
      ]},
      { role: "Accounting — Big 4", phases: [
        { type: "open", start: 10, end: 30 },
        { type: "interview", start: 34, end: 52 },
        { type: "offer", start: 58, end: 65 },
      ]},
      { role: "Consulting — MBB/Boutique", phases: [
        { type: "open", start: 15, end: 35 },
        { type: "interview", start: 40, end: 60 },
        { type: "offer", start: 64, end: 75 },
      ]},
      { role: "Real Estate — IM/Dev", phases: [
        { type: "open", start: 20, end: 38 },
        { type: "interview", start: 42, end: 58 },
        { type: "offer", start: 63, end: 72 },
      ]},
    ];

    const rowsHost = document.getElementById("cycle-rows");

    function renderCycleRows(data) {
      rowsHost.innerHTML = "";
      data.forEach(item => {
        const row = document.createElement("div");
        row.className = "row";
        const role = document.createElement("div");
        role.className = "role";
        role.textContent = item.role;
        const lane = document.createElement("div");
        lane.className = "lane";
        // add phases
        item.phases.forEach(p => {
          const el = document.createElement("div");
          el.className = "phase " + p.type;
          el.style.left = p.start + "%";
          el.style.width = (p.end - p.start) + "%";
          el.title = p.type.toUpperCase() + " • " + p.start + "%–" + p.end + "%";
          el.setAttribute("aria-label", el.title);
          lane.appendChild(el);
        });
        row.appendChild(role);
        row.appendChild(lane);
        rowsHost.appendChild(row);
      });
    }
    renderCycleRows(cycleData);

    // Year in footer
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
